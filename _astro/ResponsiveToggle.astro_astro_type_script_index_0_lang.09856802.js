let a=localStorage.getItem("isLoggedIn");console.log(a);(a===null||a===""||a==="false")&&(window.location.href="/Astro-Demo/login");const s=document.querySelector("#main-navigation"),r=s.querySelector("ul"),i=document.querySelector(".toggle-expanded-view"),g=[...s.querySelectorAll(".sr-only")],y=window.matchMedia("(min-width: 48em)");let x=localStorage.getItem("isMenuExpanded");const S=()=>{[...r.querySelectorAll('a:not([rel*="external"])')].forEach(t=>{t.pathname===window.location.pathname&&(t.classList.add("is-active"),t.setAttribute("aria-current","page"))})},h=()=>{s.classList.add("is-expanded"),localStorage.setItem("isMenuExpanded","true"),i.setAttribute("aria-expanded","true"),i.querySelector("span").textContent="Collapse menu",g.forEach(e=>{e.classList.remove("sr-only")})},u=()=>{s.classList.remove("is-expanded"),localStorage.setItem("isMenuExpanded",""),i.setAttribute("aria-expanded","false"),i.querySelector("span").textContent="Expand menu",g.forEach(e=>{e.classList.add("sr-only")})},w=()=>{y.matches?(s.classList.add("is-desktop"),s.classList.remove("is-mobile"),u()):(s.classList.remove("is-desktop"),s.classList.add("is-mobile"),u())};r&&r.addEventListener("keydown",e=>{const t=e.target.closest("li"),n=[...r.querySelectorAll(".menu-item")],p=n.findIndex(L=>L===t),d=e.key;let o;d==="ArrowDown"&&(e.preventDefault(),n.indexOf(t)===n.length-1?o=n[0]:o=n[p+1]),d==="ArrowUp"&&(e.preventDefault(),n.indexOf(t)===0?o=n[n.length-1]:o=n[p-1]),d==="Escape"&&(o=n[0]),o&&o.querySelector("a, button, input").focus()});i.addEventListener("click",()=>{s.classList.contains("is-expanded")?u():h()});window.addEventListener("resize",w);S();w();x==="true"&&h();document.querySelector("#logout-btn").addEventListener("click",()=>{console.log("called"),localStorage.setItem("isLoggedIn","false")});const c=document.querySelector("#main-navigation"),m=c.querySelector(".mobile-menu"),l=c.querySelector(".responsive-toggle"),v=[...c.querySelectorAll(".sr-only")],E=window.matchMedia("(min-width: 48em)"),M=e=>{v.forEach(t=>{t.classList.remove("sr-only")}),e.setAttribute("aria-expanded",!0),e.setAttribute("aria-label","Close menu navigation"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 12 7 7m5 5 5 5m-5-5 5-5m-5 5-5 5"/></svg>'},f=e=>{v.forEach(t=>{t.classList.add("sr-only")}),e.setAttribute("aria-expanded",!1),e.setAttribute("aria-label","Open menu navigation"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 8h12M6 12h12M6 16h12"/></svg>'};l.addEventListener("click",e=>{m.classList.toggle("show"),m.classList.contains("show")?M(l):f(l)});window.addEventListener("resize",()=>{const e=[...c.querySelectorAll("span")];E.matches?(m.classList.remove("show"),f(l)):e.forEach(t=>{t.classList.remove("sr-only")})});
